<?php

// Clase para manejar la configuración y la conexión PDO de forma estática.
class configuracion
{
    // Define las credenciales de la BD
    private static $servername = "localhost"; // Tu servidor
    private static $username = "root";       // Tu usuario
    private static $password = "";           // Tu clave
    private static $dbname = "coregedoc";     // Tu base de datos

    /**
     * Crea y retorna un objeto de conexión PDO.
     * @return PDO
     */
    public static function conectar()
    {
        $dsn = 'mysql:host=' . self::$servername . ';dbname=' . self::$dbname . ';charset=utf8mb4';
        
        // Opciones de PDO para lanzar excepciones en caso de error
        $opciones = [
            PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION,
            PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC,
            PDO::ATTR_EMULATE_PREPARES => false,
        ];
        
        try {
            $conn = new PDO($dsn, self::$username, self::$password, $opciones);
            return $conn;
        } catch (PDOException $e) {
            // Detener la ejecución si la conexión falla y mostrar error
            die("Conexión a base de datos fallida: " . $e->getMessage());
        }
    }
}

// Nota: El código anterior de mysqli ha sido reemplazado por esta clase PDO.

?>